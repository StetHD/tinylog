//@source http://github.com/eligrey/tinylog/blob/master/tinylog.js
"use strict";var tinylog=tinylog||{encoders:{},decoders:{}},console;if(!console){console={}}(function(s,y){var v=function(){return String.fromCharCode.apply(String,arguments)},r=v(0),l="GIF89a"+v(1,0,1,0,145,255,0,255,255,255,0,0,0,192,192,192,0,0,0,33,249,4,1,0,0,2,0,44,0,0,0,0,1,0,1,0,0,2,2,84,1,0,59),w=new RegExp("^"+l),q=new RegExp(r,"g"),o=s.logEntries=[],i=Math,f=btoa,d=s.encoders,u=s.decoders,p=!1,k=!0,n=function(e){return unescape(encodeURIComponent(e))},c=function(e){return decodeURIComponent(escape(e))},t=function(e,C){o.push([i.floor(e.getTime()/1000),C])},B=function(C){var e=[],D;D=i.ceil(i.log(C)/i.log(2)/8);e.push(D);while(D--){e.push(C>>>D*8&255)}return v(e)},j=function(E){if(!E){E=o}var C=[],D=0,e=E.length;for(;D<e;D++){C.push(B(E[D][0])+n(E[D][1].replace(q,"")))}return C.join(r)+r},x=function(D,C,e){if(D.addEventListener){D.addEventListener(C,e,p)}else{if(D.attachEvent){D.attachEvent("on"+C,e)}}return[D,C,e]},b=function(D,C,e){if(D.removeEventListener){D.removeEventListener(C,e,p)}else{if(D.detachEvent){D.detachEvent("on"+C,e)}}},m=function(C){var e=C.childNodes,D=e.length;while(D--){C.removeChild(e.item(0))}},a=s.uninit=function(){s.postEntry=t},h=s.encode=function(D,E){if(!D){D=o}if(!E){E=s.encoding}E=E.split("+");for(var C=0,e=E.length;C<e;C++){if(d[E[C]]){D=d[E[C]](D)}else{throw new Error("Unsupported encoding: "+E[C])}}return D},g,A;s.postEntry=t;s.log=function(){s.postEntry(new Date(),Array.prototype.slice.call(arguments).join(" "))};s.clear=function(){o.length=0};d.raw=function(e){return"raw"+r+j(e)};u.raw=function(G){var F=[],e=G.length,H=0,E,D,C;while(H<e){D=0;C=G.charCodeAt(H++)+H;for(;H<C;H++){D=D<<8|G.charCodeAt(H)}E=G.substr(H).indexOf(r);F.push([D*1000,c(G.substr(H++,E))]);H+=E}return F};d.json=function(e){return"json"+r+n(JSON.stringify(e))};u.json=function(D){var C=JSON.parse(c(D)),e=C.length;while(e--){C[e][0]*=1000}return C};if(!s.encoding){s.encoding="raw"}s.decode=function(D){if(w.test(D)){D=D.substr(l.length)}var e=D.indexOf(r),C=D.substr(0,e);if(u[C]){return u[C](D.substr(e+1))}else{throw new Error("Unsupported encoding: "+C)}};if(y.log&&s.USE_NATIVE!==p){s.postEntry=function(e,C){t(e,C);y.log(C)}}else{if(typeof document!=="undefined"){g=s.postEntry=function(an,L){var J=document,D=J.defaultView,I=J.documentElement,af="div",Q="style",ak="className",ag="setAttribute",E="data-",K="title",C="tinylog",W=C+" ",N=C+"-save-button",M=W+"tinylog-entry",aa=M+"-text",ah=function(ap,ao){return ap.appendChild(ao)},Z=function(ao){return J.createElement(ao)},S=function(ao){return J.createTextNode(ao)},al=I[Q],R=al.paddingBottom,ac=Z(af),F=ac[Q],aj=ah(ac,Z(af)),T=ah(ac,Z(af)),Y=ah(ac,Z(af)),X=ah(Y,Z(af)),am=ah(X,new Image()),e=ah(Y,Z(af)),V=p,ab=p,G=s.encoding,ad=k,P,ae=function(){al.paddingBottom=ac.clientHeight+"px"},H=function(){if(ad||G!==s.encoding){am.src="data:image/gif;base64,"+f(l+h());ad=p;G=s.encoding}},ai=function(ao){var ap=D.innerHeight,aq=aj.clientHeight;if(ao<0){ao=0}else{if(ao+aq>ap){ao=ap-aq}}F.height=ao/ap*100+"%";if(s.SAFETY_MARGIN!==p){ae()}},O=s.clear=function(){m(T);o.length=0},U=[x(J,"mousemove",function(ao){if(V){ai(D.innerHeight-ao.clientY);T.scrollTop=P}}),x(J,"mouseup",function(){if(V){V=P=p}}),x(aj,"dblclick",function(ao){ao.preventDefault();if(ab){ai(ab);ab=p}else{ab=ac.clientHeight;F.height="0px"}}),x(aj,"mousedown",function(ao){ao.preventDefault();V=k;P=T.scrollTop}),x(aj,"contextmenu",function(){V=p}),x(X,"mouseover",function(){H()}),x(X,"click",function(ao){ao.preventDefault();D.location.href="data:application/vnd.sephr.tinylog;base64,"+f(h())}),x(e,"click",function(){a()})];a=s.uninit=function(){var ao=U.length;while(ao--){b.apply(s,U[ao])}I.removeChild(ac);al.paddingBottom=R;O();m(Y);m(ac);s.postEntry=g};ac[ak]=W+C+"-container";T[ak]=W+C+"-output";Y[ak]=W+C+"-buttons-container";X[ak]=W+C+"-button "+N;X[K]="Click or open a context menu here to save log";X[ag](E+"symbol","\u2B07");am[ak]=W+N+"-image";H();e[ak]=W+C+"-button "+C+"-close-button";e[K]="Close Log";e[ag](E+"symbol","\u2716");aj[ak]=W+C+"-resizer";aj[K]="Double-click to toggle log minimization";I.insertBefore(ac,I.firstChild);s.postEntry=function(ap,ar){var aq=ah(T,Z(af)),ao=ah(aq,Z(af));aq[K]=ap.toLocaleTimeString();aq[ak]=M;ao[ak]=aa;t(ap,ar);ad=k;ah(ao,S(ar));T.scrollTop=T.scrollHeight};if(s.SAFETY_MARGIN!==p){ae();U.push(x(D,"resize",ae))}if(!s.AUTO_DISPLAY){s.postEntry(an,L)}};if(s.AUTO_DISPLAY){s.postEntry()}}else{if(typeof print==="function"){s.postEntry=function(e,C){t(e,C);print(C)}}}}if(!y.log){y.log=s.log}else{A=y.log;try{y.log=function(){t(new Date(),Array.prototype.slice.call(arguments).join(" "));A.apply(y,arguments)}}catch(z){}}}(tinylog,console));
